function sgAddEvent(t,e,o){t.addEventListener?t.addEventListener(e,o,!1):t.attachEvent&&t.attachEvent("on"+e,o)}function SGPBPopup(){this.id=null,this.eventName="",this.popupData=null,this.additionalPopupData={},this.popupConfig={},this.popupObj=null,this.onceListener(),this.initialsListeners(),this.countPopupOpen=!0,this.closeButtonDefaultPositions={},this.closeButtonDefaultPositions[1]={left:9,right:9,bottom:9},this.closeButtonDefaultPositions[2]={left:0,right:0,top:parseInt("-20"),bottom:parseInt("-20")},this.closeButtonDefaultPositions[3]={right:4,bottom:4,left:4,top:4},this.closeButtonDefaultPositions[4]={left:12,right:12,bottom:9},this.closeButtonDefaultPositions[5]={left:8,right:8,bottom:8},this.closeButtonDefaultPositions[6]={left:parseInt("-18.5"),right:parseInt("-18.5"),bottom:parseInt("-18.5"),top:parseInt("-18.5")}}function SgpbEventListener(){this.evenets=null,this.popupObj={}}window.SGPB_ORDER=0,SGPBPopup.htmlCustomButton=function(){var t=jQuery(".sgpb-html-custom-button");t.each((function(){var t=jQuery.parseJSON(decodeURIComponent(jQuery(this).attr("data-options")));!function(t,e){t.bind("click",(function(){var t=e["sgpb-custom-button"];if("redirectToURL"===t&&(e["sgpb-custom-button-redirect-new-tab"]?window.open(e["sgpb-custom-button-redirect-URL"]):window.location.href=e["sgpb-custom-button-redirect-URL"]),"hidePopup"===t&&SGPBPopup.closePopup(),"copyToClipBoard"===t){var o=e["sgpb-custom-button-copy-to-clipboard-text"],p=document.createElement("input");p.id=1,p.value=o,p.style="position: absolute; right: -10000px",document.getElementById(1)||document.body.appendChild(p),p.select(),document.execCommand("copy"),e["sgpb-copy-to-clipboard-close-popup"]&&SGPBPopup.closePopup(),e["sgpb-custom-button-copy-to-clipboard-alert"]&&alert(e["sgpb-custom-button-copy-to-clipboard-message"])}}))}(jQuery(this),t)}))},SGPBPopup.listeners=function(){sgAddEvent(window,"sgpbPopupBuilderAdditionalDimensionSettings",(function(t){SGPBPopup.mobileSafariAdditionalSettings(t)})),sgAddEvent(window,"sgpbDidOpen",(function(t){if("function"==typeof Event)var e=new CustomEvent("resize",{bubbles:!0,cancelable:!0});else SGPBPopup.isIE()?(e=document.createEvent("Event")).initEvent("resize",!0,!0):e=new CustomEvent("resize",{bubbles:!0,cancelable:!0});window.dispatchEvent(e),SGPBPopup.mobileSafariAdditionalSettings(t);var o=t.detail.popupData,p=t.detail.currentObj.sgpbPopupObj;"undefined"==typeof SGPB_ANALYTICS_PARAMS&&p.getCountPopupOpen()&&p.addToCounter(o),o["sgpb-show-popup-same-user"]&&p.setPopupLimitationCookie(o),SGPBPopup.htmlCustomButton()})),setInterval((function(){var t=window.sgpbOpenedPopup||{};if(!Object.keys(t).length)return!1;var e={};e.popupsIdCollection=window.sgpbOpenedPopup;var o={action:"sgpb_send_to_open_counter",nonce:SGPB_JS_PARAMS.nonce,params:e};window.sgpbOpenedPopup={},jQuery.post(SGPB_JS_PARAMS.ajaxUrl,o,(function(t){}))}),600)},SGPBPopup.mobileSafariAdditionalSettings=function(t){if(void 0===t){if(void 0===(p=SGPBPopup.prototype.getAdditionalPopupData()))return!1;var e=p.popupData,o=parseInt(p.popupId)}else{var p=t.detail,n=SGPBPopup.prototype.getAdditionalPopupData();jQuery.isEmptyObject(n)&&SGPBPopup.prototype.setAdditionalPopupData(p);e=p.popupData,o=parseInt(p.popupId)}var i=window.navigator.userAgent;if((i.match(/iPad/i)||i.match(/iPhone/i))&&void 0!==e["sgpb-popup-dimension-mode"]&&"responsiveMode"===e["sgpb-popup-dimension-mode"]){var a=parseInt(window.innerHeight-100);"iframe"!==t.detail.popupData["sgpb-type"]&&"video"!==t.detail.popupData["sgpb-type"]||jQuery(".sgpb-popup-builder-content-"+o+" iframe").length&&jQuery(".sgpb-popup-builder-content-"+o).attr("style","height:"+a+"px !important;")}},SGPBPopup.prototype.setAdditionalPopupData=function(t){this.additionalPopupData=t},SGPBPopup.prototype.getAdditionalPopupData=function(){return this.additionalPopupData},SGPBPopup.prototype.setCountPopupOpen=function(t){this.countPopupOpen=t},SGPBPopup.prototype.getCountPopupOpen=function(){return this.countPopupOpen},SGPBPopup.playMusic=function(t){var e=t.detail,o=parseInt(e.popupId),p=SGPBPopup.getPopupOptionsById(o),n=p["sgpb-sound-url"];if(p["sgpb-open-sound"]&&n&&!window.SGPB_SOUND[o]){var i=new Audio(n);i.play(),window.SGPB_SOUND[o]=i}},SGPBPopup.floatingButton=function(t){SGPBPopup.showFloatingButton(t),jQuery(window).on("sgpbFormSuccess",(function(t){SGPBPopup.hideFloatingButton()}))},SGPBPopup.showFloatingButton=function(t){var e=t||{},o=0,p=!0;t.hasOwnProperty("sgpbPopupObj")&&(e=t.detail.currentObj.sgpbPopupObj),e instanceof SGPBPopup&&(o=parseInt(e.id),p=e.forceCheckCurrentPopupType(e)),p&&(o?jQuery(".sgpb-floating-button.sg-popup-id-"+o).show():jQuery(".sgpb-floating-button").show())},SGPBPopup.hideFloatingButton=function(t){t?jQuery(".sgpb-floating-button.sg-popup-id-"+t).fadeOut():jQuery(".sgpb-floating-button").fadeOut()},SGPBPopup.prototype.initialsListeners=function(){var t=this;sgAddEvent(window,"sgpbDidOpen",(function(t){jQuery(".sg-popup-close").unbind("click").bind("click",(function(){var t=jQuery(this).parents(".sg-popup-builder-content").attr("data-id");SGPBPopup.closePopupById(t)}))})),sgAddEvent(window,"sgpbDidClose",(function(e){var o=e.detail,p=parseInt(o.popupId);t.htmlIframeFilterForOpen(p,"close")}))},SGPBPopup.prototype.onceListener=function(){var t=this;sgAddEvent(window,"sgpbDidOpen",(function(e){document.onkeydown=function(e){if(27===(e=e||window.event).keyCode){var o=t.getPopupIdForNextEsc();if(!o)return!1;var p=parseInt(o.popupId);SGPBPopup.closePopupById(p)}}})),sgAddEvent(window,"sgpbDidClose",(function(t){if(0!==window.sgPopupBuilder.length){var e=[].concat(window.sgPopupBuilder).reverse();for(var o in e){var p=e[++o];if(void 0===p){jQuery("html").removeClass("sgpb-overflow-hidden"),jQuery("body").removeClass("sgpb-overflow-hidden-body");break}if(!1!==p.isOpen){void 0===SGPBPopup.getPopupOptionsById(p.popupId)["sgpb-disable-page-scrolling"]?(jQuery("html").removeClass("sgpb-overflow-hidden"),jQuery("body").removeClass("sgpb-overflow-hidden-body")):(jQuery("html").addClass("sgpb-overflow-hidden"),jQuery("body").addClass("sgpb-overflow-hidden-body"));break}}}else jQuery("html").addClass("sgpb-overflow-hidden"),jQuery("body").addClass("sgpb-overflow-hidden-body")}))},SGPBPopup.prototype.getPopupIdForNextEsc=function(){var t=window.sgPopupBuilder,e=!1;if(!t.length)return e;var o=[].concat(t).reverse();for(var p in o){var n=o[p];if(n.isOpen){var i=parseInt(n.popupId),a=SGPBPopup.getPopupOptionsById(i);if(!a["sgpb-disable-popup-closing"]&&a["sgpb-esc-key"]){e=n;break}}}return e},SGPBPopup.prototype.setPopupId=function(t){this.id=parseInt(t)},SGPBPopup.prototype.getPopupId=function(){return this.id},SGPBPopup.prototype.setPopupObj=function(t){this.popupObj=t},SGPBPopup.prototype.getPopupObj=function(){return this.popupObj},SGPBPopup.prototype.setPopupData=function(t){if("string"==typeof t)t=SGPBPopup.JSONParse(t);this.popupData=t},SGPBPopup.prototype.getPopupData=function(){return this.popupData},SGPBPopup.prototype.setPopupConfig=function(t){this.popupConfig=t},SGPBPopup.prototype.getPopupConfig=function(){return this.popupConfig},SGPBPopup.prototype.setUpPopupConfig=function(){var t=new PopupConfig;this.setPopupConfig(t)},SGPBPopup.createPopupObjById=function(t){var e=SGPBPopup.getPopupOptionsById(t);if(!e)return!1;var o=new SGPBPopup;return o.setPopupId(t),o.setPopupData(e),o},SGPBPopup.getPopupOptionsById=function(t){var e=jQuery("#sg-popup-content-wrapper-"+t);if(!e.length)return!1;var o=e.attr("data-options");return SGPBPopup.JSONParse(o)},SGPBPopup.prototype.getCompatibleZiIndex=function(t){return t>2147483647?2147483627:t},SGPBPopup.prototype.prepareOpen=function(){var t=this.getPopupId(),e=this.getPopupData(),o=this.getCompatibleZiIndex(e["sgpb-popup-z-index"]),p=this.popupData["sgpb-type"];this.setUpPopupConfig();var n=this,i=this.getPopupConfig();function a(t){if(void 0===t)return"";var e=["document.createElement","createElement","String.fromCharCode","fromCharCode"];for(var o in e)if(t.indexOf(e[o])>0)return"";var p=document.createElement("textarea");return p.innerHTML=t,p.value}i.customShouldOpen=function(){var t=e["sgpb-ShouldOpen"];return t=a(t),new Function(t)()},i.customShouldClose=function(){var t=e["sgpb-ShouldClose"];return t=a(t),new Function(t)()},this.setPopupDimensions(),"on"==e["sgpb-disable-popup-closing"]&&(e["sgpb-enable-close-button"]="",e["sgpb-esc-key"]="",e["sgpb-overlay-click"]=""),e.eventName=this.eventName,SGPBPopup.varToBool(e["sgpb-enable-close-button"])&&i.magicCall("setCloseButtonDelay",parseInt(e["sgpb-close-button-delay"])),i.magicCall("setShowButton",SGPBPopup.varToBool(e["sgpb-enable-close-button"]));var s=1e3*parseFloat(e["sgpb-open-animation-speed"]),r=1e3*parseFloat(e["sgpb-close-animation-speed"]);i.magicCall("setOpenAnimationEffect",e["sgpb-open-animation-effect"]),i.magicCall("setCloseAnimationEffect",e["sgpb-close-animation-effect"]),i.magicCall("setOpenAnimationSpeed",s),i.magicCall("setCloseAnimationSpeed",r),i.magicCall("setOpenAnimationStatus",e["sgpb-open-animation"]),i.magicCall("setCloseAnimationStatus",e["sgpb-close-animation"]),i.magicCall("setContentPadding",e["sgpb-content-padding"]),"undefined"!=typeof SgpbRecentSalesPopupType&&p==SgpbRecentSalesPopupType&&(o=2147483647,i.magicCall("setCloseAnimationEffect","fade"),i.magicCall("setCloseAnimationSpeed",1e3),i.magicCall("setCloseAnimationStatus","on")),i.magicCall("setZIndex",o),i.magicCall("setCloseButtonWidth",e["sgpb-button-image-width"]),i.magicCall("setCloseButtonHeight",e["sgpb-button-image-height"]),i.magicCall("setPopupId",t),i.magicCall("setPopupData",e),i.magicCall("setAllowed",!SGPBPopup.varToBool(e["sgpb-disable-popup-closing"])),e["sgpb-type"]==SGPB_POPUP_PARAMS.popupTypeAgeRestriction&&i.magicCall("setAllowed",!1),i.magicCall("setEscShouldClose",SGPBPopup.varToBool(e["sgpb-esc-key"])),i.magicCall("setOverlayShouldClose",SGPBPopup.varToBool(e["sgpb-overlay-click"])),i.magicCall("setScrollingEnabled",SGPBPopup.varToBool(e["sgpb-enable-content-scrolling"])),SGPBPopup.varToBool(e["sgpb-content-click"])&&this.contentCloseBehavior(),sgAddEvent(window,"sgpbWillOpen",(function(e){if(t!=e.detail.popupId||"undefined"==e.detail.popupData["sgpb-content-click"])return!1;n.popupContentClick(e)})),SGPBPopup.varToBool(e["sgpb-popup-fixed"])&&this.addFixedPosition(),this.themeCreator(),this.themeCustomizations(),i.magicCall("setContents",document.getElementById("sg-popup-content-wrapper-"+t)),i.magicCall("setPopupType",p),this.setPopupConfig(i),this.popupTriggeringListeners(),this.checkCurrentPopupType()&&this.open()},SGPBPopup.prototype.popupContentClick=function(t){var e=t.detail,o=parseInt(e.popupId);jQuery(".sgpb-content-"+o).on("click",(function(t){var e={popupId:o,eventName:"sgpbPopupContentclick"};jQuery(window).trigger("sgpbPopupContentclick",e)}))},SGPBPopup.prototype.forceCheckCurrentPopupType=function(popupObj){var allowToOpen=!0,popupConfig=new PopupConfig,className=popupObj.popupData["sgpb-type"];if(void 0===className||"undefined"==className)return!1;if(void 0!==SGPB_POPUP_PARAMS.conditionalJsClasses&&SGPB_POPUP_PARAMS.conditionalJsClasses.length){var isAllowConditions=this.forceIsAllowJsConditions(popupObj);if(!isAllowConditions)return!1}var popupConfig=new PopupConfig,className=this.popupData["sgpb-type"];if(className=popupConfig.prefix.toUpperCase()+PopupConfig.firstToUpperCase(className),window.hasOwnProperty(className)){className=eval(className);var obj=new className;"function"==typeof obj.allowToOpen&&(allowToOpen=obj.allowToOpen(this.id),allowToOpen||(isAllow=allowToOpen))}var allowToOpen=this.checkCurrentPopupType();return allowToOpen||!1},SGPBPopup.prototype.checkCurrentPopupType=function(){var allowToOpen=!0,popupConfig=new PopupConfig,isPreview=parseInt(this.popupData["sgpb-is-preview"]);if(!isNaN(isPreview)&&1==isPreview)return allowToOpen;var popupHasLimit=this.isSatistfyForShowingLimitation(this.popupData);if(!popupHasLimit)return!1;var dontShowPopupCookieName="sgDontShowPopup"+this.popupData["sgpb-post-id"],dontShowPopup=SGPopup.getCookie(dontShowPopupCookieName);if(""!=dontShowPopup)return!1;var className=this.popupData["sgpb-type"];if(void 0===className||"undefined"==className)return!1;if(void 0!==SGPB_POPUP_PARAMS.conditionalJsClasses&&SGPB_POPUP_PARAMS.conditionalJsClasses.length){var isAllowConditions=this.isAllowJsConditions();if(!isAllowConditions)return!1}if(className=popupConfig.prefix.toUpperCase()+PopupConfig.firstToUpperCase(className),window.hasOwnProperty(className)){className=eval(className);var obj=new className;"function"==typeof obj.allowToOpen&&(allowToOpen=obj.allowToOpen(this.id))}return allowToOpen},SGPBPopup.prototype.forceIsAllowJsConditions=function(popupObj){var conditions=SGPB_POPUP_PARAMS.conditionalJsClasses,isAllow=!0;for(var i in conditions){if(!conditions.hasOwnProperty(i))break;try{var className=eval(conditions[i])}catch(t){continue}var obj=new className;if("function"==typeof obj.forceAllowToOpen){var popupData=this.getPopupData(),allowToOpen=obj.forceAllowToOpen(popupObj.id,popupObj);if(!allowToOpen){isAllow=allowToOpen;break}}}return isAllow},SGPBPopup.prototype.isAllowJsConditions=function(){var conditions=SGPB_POPUP_PARAMS.conditionalJsClasses,isAllow=!0;for(var i in conditions){if(!conditions.hasOwnProperty(i))break;try{var className=eval(conditions[i])}catch(t){continue}var obj=new className;if("function"==typeof obj.allowToOpen){var allowToOpen=obj.allowToOpen(this.id,this);if(!allowToOpen){isAllow=allowToOpen;break}}}return isAllow},SGPBPopup.prototype.setPopupLimitationCookie=function(t){var e=this.getPopupShowLimitationCookie(t),o=e.cookie||{},p=o.openingCount||0,n=window.location.href;t["sgpb-show-popup-same-user-page-level"]||(n=""),o.openingCount=p+1,o.openingPage=n;var i=parseInt(t["sgpb-show-popup-same-user-expiry"]);SGPBPopup.setCookie(e.cookieName,JSON.stringify(o),i,n)},SGPBPopup.prototype.isSatistfyForShowingLimitation=function(t){if(!t["sgpb-show-popup-same-user"])return!0;var e=this.getPopupShowLimitationCookie(t);return!e.cookie||t["sgpb-show-popup-same-user-count"]>e.cookie.openingCount},SGPBPopup.prototype.getPopupShowLimitationCookie=function(t){var e=this.getPopupShowLimitationCookieDetails(t);return e=this.filterPopupLimitationCookie(e)},SGPBPopup.prototype.filterPopupLimitationCookie=function(t){var e={cookie:""};if(t.isPageLevel)return e.cookieName=t.pageLevelCookieName,t.pageLevelCookie&&(e.cookie=jQuery.parseJSON(t.pageLevelCookie)),SGPBPopup.deleteCookie(t.domainLevelCookieName),e;e.cookieName=t.domainLevelCookieName,t.domainLevelCookie&&(e.cookie=jQuery.parseJSON(t.domainLevelCookie));var o=window.location.href;return SGPBPopup.deleteCookie(t.pageLevelCookieName,o),e},SGPBPopup.prototype.getPopupShowLimitationCookieDetails=function(t){var e=window.location.href,o=t["sgpb-post-id"],p="SGPBShowingLimitationHomePage"+o,n="SGPBShowingLimitationPage"+o,i="SGPBShowingLimitationDomain"+o,a=t["sgpb-show-popup-same-user-page-level"]||!1;return e==SGPB_POPUP_PARAMS.homePageUrl&&(n=p),{pageLevelCookieName:n,domainLevelCookieName:i,pageLevelCookie:SGPopup.getCookie(n),domainLevelCookie:SGPopup.getCookie(i),isPageLevel:a}},SGPBPopup.prototype.themeCreator=function(){var t=!1,e=this.getPopupData(),o=this.getPopupId(),p=this.getPopupConfig(),n="",i=SGPBPopup.varToBool(e["sgpb-force-rtl"]),a=e["sgpb-popup-themes"],s=e["sgpb-type"],r=e["sgpb-button-image-width"],u=e["sgpb-button-image-height"],l=parseInt(e["sgpb-content-padding"]),c=parseInt(e["sgpb-button-position-top"]),g=parseInt(e["sgpb-button-position-right"]),d=parseInt(e["sgpb-button-position-bottom"]),P=parseInt(e["sgpb-button-position-left"]),b=e["sgpb-content-custom-class"],f=SGPBPopup.varToBool(e["sgpb-disable-border"]),v=p.closeButtonImage,m=1,h="black",C="inherit",B=!1;"undefined"!=typeof SgpbRecentSalesPopupType&&s==SgpbRecentSalesPopupType&&(B=!0,a="sgpb-theme-2",y="topRight",h="white",C="#ececec",c="-10",g="-10",p.magicCall("setShadowSpread",1),p.magicCall("setContentShadowBlur",5),p.magicCall("setOverlayVisible",!1),p.magicCall("setContentShadowColor","#000000b3"),p.magicCall("setContentBorderRadius","5px"));var S=a[a.length-1];if(isNaN(c)&&(c=this.closeButtonDefaultPositions[S].top),isNaN(g)&&(g=this.closeButtonDefaultPositions[S].right),isNaN(d)&&(d=this.closeButtonDefaultPositions[S].bottom),isNaN(P)&&(P=this.closeButtonDefaultPositions[S].left),i&&(n=" sgpb-popup-content-direction-right"),"countdown"==e["sgpb-type"]&&p.magicCall("setMinWidth",300),p.magicCall("setContentPadding",l),p.magicCall("setOverlayAddClass",a+"-overlay sgpb-popup-overlay-"+o),p.magicCall("setContentAddClass","sgpb-content sgpb-content-"+o+" "+a+"-content "+b+n),void 0===e["sgpb-close-button-position"]||""==e["sgpb-close-button-position"])t=!0;else{var y=e["sgpb-close-button-position"];p.magicCall("setButtonPosition",y)}if("sgpb-theme-1"==a)m=1,p.magicCall("setShadowSpread",14),t||"bottomRight"==y?(p.magicCall("setCloseButtonPositionRight",g+"px"),p.magicCall("setCloseButtonPositionBottom",d+"px")):(p.magicCall("setCloseButtonPositionLeft",P+"px"),p.magicCall("setCloseButtonPositionBottom",d+"px"));else if("sgpb-theme-2"==a){m=2,p.magicCall("setButtonInside",!1),p.magicCall("setContentBorderWidth",1),p.magicCall("setContentBackgroundColor",h),p.magicCall("setContentBorderColor",C),p.magicCall("setOverlayColor","white");B&&("-"+r/2+"px","-"+u/2+"px",m=6),t||"topRight"==y?(p.magicCall("setCloseButtonPositionRight",g+"px"),p.magicCall("setCloseButtonPositionTop",c+"px")):"topLeft"==y?(p.magicCall("setCloseButtonPositionLeft",P+"px"),p.magicCall("setCloseButtonPositionTop",c+"px")):"bottomRight"==y?(p.magicCall("setCloseButtonPositionRight",g+"px"),p.magicCall("setCloseButtonPositionBottom",d+"px")):"bottomLeft"==y&&(p.magicCall("setCloseButtonPositionLeft",P+"px"),p.magicCall("setCloseButtonPositionBottom",d+"px")),f&&p.magicCall("setContentBorderWidth",0)}else if("sgpb-theme-3"==a){m=3,p.magicCall("setContentBorderWidth",5),p.magicCall("setContentBorderRadius",e["sgpb-border-radius"]),p.magicCall("setContentBorderRadiusType",e["sgpb-border-radius-type"]),p.magicCall("setContentBorderColor",e["sgpb-border-color"]);f&&(p.magicCall("setContentBorderWidth",0),"0px"),t?(p.magicCall("setCloseButtonWidth",38),p.magicCall("setCloseButtonHeight",19),p.magicCall("setCloseButtonPositionRight",g+"px"),p.magicCall("setCloseButtonPositionTop",c+"px")):"topRight"==y?(p.magicCall("setCloseButtonPositionRight",g+"px"),p.magicCall("setCloseButtonPositionTop",c+"px")):"topLeft"==y?(p.magicCall("setCloseButtonPositionLeft",P+"px"),p.magicCall("setCloseButtonPositionTop",c+"px")):"bottomRight"==y?(p.magicCall("setCloseButtonPositionLeft",g+"px"),p.magicCall("setCloseButtonPositionBottom",d+"px")):"bottomLeft"==y&&(p.magicCall("setCloseButtonPositionLeft",P+"px"),p.magicCall("setCloseButtonPositionBottom",d+"px"))}else"sgpb-theme-4"==a?(m=4,p.magicCall("setButtonImage",e["sgpb-button-text"]),p.magicCall("setCloseButtonType","button"),p.magicCall("setCloseButtonText",e["sgpb-button-text"]),p.magicCall("setContentBorderWidth",0),p.magicCall("setContentBackgroundColor","white"),p.magicCall("setContentBorderColor","white"),p.magicCall("setOverlayColor","white"),p.magicCall("setShadowSpread",4),p.magicCall("setContentShadowBlur",8),t||"bottomRight"==y?(p.magicCall("setCloseButtonPositionRight",g+"px"),p.magicCall("setCloseButtonPositionBottom",d+"px")):(p.magicCall("setCloseButtonPositionLeft",P+"px"),p.magicCall("setCloseButtonPositionBottom",d+"px"))):"sgpb-theme-5"==a?(m=5,p.magicCall("setBoxBorderWidth",10),p.magicCall("setContentBorderColor","#4B4B4B"),t||"bottomRight"==y?(p.magicCall("setCloseButtonPositionRight",g+"px"),p.magicCall("setCloseButtonPositionBottom",d+"px")):(p.magicCall("setCloseButtonPositionLeft",P+"px"),p.magicCall("setCloseButtonPositionBottom",d+"px"))):"sgpb-theme-6"==a&&(m=6,p.magicCall("setButtonInside",!1),p.magicCall("setContentBorderRadius",7),p.magicCall("setContentBorderRadiusType","px"),t?(p.magicCall("setCloseButtonWidth",37),p.magicCall("setCloseButtonHeight",37),p.magicCall("setCloseButtonPositionRight",g+"px"),p.magicCall("setCloseButtonPositionTop",c+"px")):(void 0===e["sgpb-button-position-right"]&&(g="-"+r/2,c="-"+u/2,P="-"+r/2,d="-"+u/2),"topRight"==y?(p.magicCall("setCloseButtonPositionRight",g+"px"),p.magicCall("setCloseButtonPositionTop",c+"px")):"topLeft"==y?(p.magicCall("setCloseButtonPositionLeft",P+"px"),p.magicCall("setCloseButtonPositionTop",c+"px")):"bottomRight"==y?(p.magicCall("setCloseButtonPositionRight",g+"px"),p.magicCall("setCloseButtonPositionBottom",d+"px")):"bottomLeft"==y&&(p.magicCall("setCloseButtonPositionLeft",P+"px"),p.magicCall("setCloseButtonPositionBottom",d+"px"))));p.magicCall("setPopupTheme",m),e["sgpb-button-image"]?(p.magicCall("setButtonImage","data:image/png;base64,"+e["sgpb-button-image-data"]),""!=e["sgpb-button-image-data"]&&-1==e["sgpb-button-image-data"].indexOf("http")||p.magicCall("setButtonImage",e["sgpb-button-image"])):void 0!==(v=SGPB_POPUP_PARAMS.defaultThemeImages[m])&&p.magicCall("setButtonImage",v)},SGPBPopup.prototype.themeCustomizations=function(){var t=this.getPopupId(),e=this.getPopupData(),o=this.getPopupConfig(),p=e["sgpb-content-opacity"],n=e["sgpb-background-color"];if(e["sgpb-background-image-data"])var i="data:image/png;base64,"+e["sgpb-background-image-data"];else i=e["sgpb-background-image"];var a=e["sgpb-show-background"],s=e["sgpb-background-image-mode"],r=e["sgpb-overlay-color"],u=e["sgpb-popup-themes"],l=e["sgpb-type"];void 0===e["sgpb-overlay-custom-class"]&&(e["sgpb-overlay-custom-class"]="sgpb-popup-overlay"),void 0===e["sgpb-popup-themes"]&&(u="sgpb-theme-2"),void 0===a&&(n="",i="",s=""),"undefined"!=typeof SgpbRecentSalesPopupType&&l==SgpbRecentSalesPopupType&&(a="on",n=e["sgpb-background-color"],p=e["sgpb-content-opacity"]),p&&o.magicCall("setContentBackgroundOpacity",p),s&&o.magicCall("setContentBackgroundMode",s),i&&o.magicCall("setContentBackgroundImage",i),n&&(n=SGPBPopup.hexToRgba(n,p),o.magicCall("setContentBackgroundColor",n)),r&&o.magicCall("setOverlayColor",r);var c=u+"-overlay sgpb-popup-overlay-"+t;if(SGPB_JS_PACKAGES.extensions["advanced-closing"]?void 0!==e["sgpb-enable-popup-overlay"]&&"on"==e["sgpb-enable-popup-overlay"]?e["sgpb-enable-popup-overlay"]=!0:void 0===e["sgpb-enable-popup-overlay"]&&(e["sgpb-enable-popup-overlay"]=!1):e["sgpb-enable-popup-overlay"]=!0,o.magicCall("setOverlayVisible",SGPBPopup.varToBool(e["sgpb-enable-popup-overlay"])),"undefined"!=typeof SgpbRecentSalesPopupType&&o.magicCall("setOverlayVisible",!1),SGPBPopup.varToBool(e["sgpb-enable-popup-overlay"])){o.magicCall("setOverlayAddClass",c+" "+e["sgpb-overlay-custom-class"]);var g=e["sgpb-overlay-opacity"]||.8;o.magicCall("setOverlayOpacity",100*g)}},SGPBPopup.prototype.formSubmissionDetection=function(t){if(t.length)return!1;var e=t.popupId;if(!SGPBPopup.getPopupOptionsById(e)["sgpb-reopen-after-form-submission"])return!1;jQuery(".sgpb-popup-builder-content-"+e+" form").submit((function(){SGPBPopup.setCookie("SGPBSubmissionReloadPopup",e)}))},SGPBPopup.prototype.htmlIframeFilterForOpen=function(t,e){var o=jQuery(".sgpb-content-"+t);if(!o.length)return!1;o.find("iframe").each((function(){var t;return"open"!=e?(jQuery(this).closest(".fb_iframe_widget").length||(jQuery(this).attr("data-attr-src"),""!=(t=jQuery(this).attr("src"))&&(jQuery(this).attr("data-attr-src",t),jQuery(this).attr("src",""))),!0):void 0===jQuery(this).attr("data-attr-src")?(""!=(t=jQuery(this).attr("src"))&&jQuery(this).attr("data-attr-src",t),!0):(""!=(t=jQuery(this).attr("data-attr-src"))&&(jQuery(this).attr("src",t),jQuery(this).attr("data-attr-src",t)),!0)}))},SGPBPopup.prototype.iframeSizesInHtml=function(t){var e=t.popupId,o=t.popupData,p=jQuery(".sgpb-content-"+e);if(!p.length)return!1;p.find("iframe").each((function(){if(void 0===jQuery(this))return!1;"customMode"==o["sgpb-popup-dimension-mode"]&&void 0===jQuery(this).attr("width")&&void 0===p.attr("height")&&jQuery(this).css({width:o["sgpb-width"],height:o["sgpb-height"]})}))},SGPBPopup.prototype.getSearchDataFromContent=function(t){for(var e,o=/\[(\[?)(pbvariable)(?![\w-])([^\]\/]*(?:\/(?!\])[^\]\/]*)*?)(?:(\/)\]|\](?:([^\[]\*+(?:\[(?!\/\2\])[^\[]\*+)\*+)\[\/\2\])?)(\]?)/gi,p=[];e=o.exec(t);){var n,i=[],a=[],s=/\s(\w+?)="(.+?)"/g;for(i.replaceString=this.htmlDecode(e[0]);n=s.exec(e[3]);)a[n[1]]=this.htmlDecode(n[2]);i.searchData=a,p.push(i)}return p},SGPBPopup.prototype.replaceWithCustomShortcode=function(t){var e=jQuery(".sgpb-content-"+t).html(),o=this.getSearchDataFromContent(e),p=this;if(!o.length)return!1;for(var n in o){var i=o[n],a=i.searchData;if(void 0!==a.selector&&void 0!==a.attribute){try{if(!jQuery(a.selector).length){p.replaceShortCode(i.replaceString,"",t);continue}}catch(e){p.replaceShortCode(i.replaceString,"",t);continue}if("text"==a.attribute)var s=jQuery(a.selector).text();else s=jQuery(a.selector).attr(a.attribute);void 0!==s?p.replaceShortCode(i.replaceString,s,t):p.replaceShortCode(i.replaceString,"",t)}else p.replaceShortCode(i.replaceString,"",t)}},SGPBPopup.prototype.replaceShortCode=function(t,e,o){if(!(o=parseInt(o)))return!1;var p=jQuery(".sgpb-content-"+o);return!!p.length&&(p.find("div").each((function(){var o=jQuery(this).contents();if(!o.length)return!1;o.html((function(o,p){if(void 0!==p)return p.replace(t,e)}))})),!0)},SGPBPopup.prototype.popupTriggeringListeners=function(){var t=this,e=this.getPopupData();this.getPopupConfig();sgAddEvent(window,"sgpbDidOpen",(function(e){var o=e.detail;t.iframeSizesInHtml(o),t.formSubmissionDetection(o);var p=o.popupData,n=parseInt(p["sgpb-close-button-delay"]);n&&t.closeButtonDisplay(p["sgpb-post-id"],"show",n);var i=p["sgpb-disable-page-scrolling"];p["sgpb-overlay-color"]&&jQuery(".sgpb-theme-1-overlay").css({"background-image":"none"}),SGPBPopup.varToBool(i)&&(jQuery("html").addClass("sgpb-overflow-hidden"),jQuery("body").addClass("sgpb-overflow-hidden-body"))})),sgAddEvent(window,"sgpbWillOpen",(function(o){var p=o.detail,n=parseInt(p.popupId);t.htmlIframeFilterForOpen(p.popupId,"open"),t.replaceWithCustomShortcode(n),t.sgpbDontShowPopup(n),parseInt(e["sgpb-close-button-delay"])&&t.closeButtonDisplay(e["sgpb-post-id"],"hide");var i={popupId:e["sgpb-post-id"],disabledAnalytics:e["sgpb-popup-counting-disabled"],disabledInGeneral:SGPB_POPUP_PARAMS.disableAnalyticsGeneral};jQuery(window).trigger("sgpbDisableAnalytics",i)})),sgAddEvent(window,"sgpbShouldClose",(function(t){})),sgAddEvent(window,"sgpbWillClose",(function(t){t.detail;SGPBPopup.offPopup(t.detail.currentObj)}))},SGPBPopup.prototype.sgpbDontShowPopup=function(t){var e=jQuery(".sgpb-content-"+t).parent().find('[class*="sg-popup-dont-show"]');if(!e.length)return!1;e.each((function(){jQuery(this).bind("click",(function(e){e.preventDefault();var o=SGPB_POPUP_PARAMS.dontShowPopupExpireTime,p="sgDontShowPopup"+t,n=jQuery(this).attr("class").match(/sg-popup-dont-show/).input.match(/sg-popup-dont-show-(\d+$)/);n&&(o=parseInt(n[1])),SGPBPopup.setCookie(p,o,o),SGPBPopup.closePopupById(t)}))}))},SGPBPopup.prototype.addToCounter=function(t){if(SGPB_POPUP_PARAMS.isPreview||void 0!==t["sgpb-popup-counting-disabled"])return!1;var e=window.sgpbOpenedPopup||{},o=parseInt(t["sgpb-post-id"]);void 0===e[o]?e[o]=1:e[o]+=1,window.sgpbOpenedPopup=e},SGPBPopup.prototype.closeButtonDisplay=function(t,e,o){"show"==e?setTimeout((function(){jQuery(".sgpb-content-"+t).prev().show()}),1e3*o):"hide"==e&&jQuery(".sgpb-content-"+t).prev().hide()},SGPBPopup.prototype.open=function(t){var e=this.customEvent,o=this.getPopupConfig(),p=this.getPopupId(),n=this.eventName;void 0===window.sgPopupBuilder&&(window.sgPopupBuilder=[]);var i=SGPBPopup.getPopupWindowDataById(p);if(i)r=i.popup,i.isOpen=!0;else{window.SGPB_ORDER+=1;var a={eventName:n,popupId:p,order:window.SGPB_ORDER,isOpen:!0,sgpbPopupObj:this};o.currentObj=a;var s=o.combineConfigObj(),r=new SGPopup(s);a.popup=r,window.sgPopupBuilder.push(a)}void 0===t||t.countPopupOpen||this.setCountPopupOpen(!1),r.customEvent=e,r.open(),this.setPopupObj(r);var u=SGPBPopup.getPopupOptionsById(p);SgpbEventListener.CF7EventListener(p,u),void 0!==u["sgpb-behavior-after-special-events"]&&u["sgpb-behavior-after-special-events"].length&&"contact-form-7"==(u=u["sgpb-behavior-after-special-events"][0][0]).param&&SgpbEventListener.processCF7MailSent(p,u)},SGPBPopup.varToBool=function(t){return!!t},SGPBPopup.hexToRgba=function(t,e){var o;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return 3==(o=t.substring(1).split("")).length&&(o=[o[0],o[0],o[1],o[1],o[2],o[2]]),"rgba("+[(o="0x"+o.join(""))>>16&255,o>>8&255,255&o].join(",")+","+e+")";throw new Error("Bad Hex")},SGPBPopup.prototype.contentCopyToClick=function(){var t=this.getPopupData(),e="content-copy-to-click-"+this.getPopupId(),o=this.htmlDecode(t["sgpb-copy-to-clipboard-text"]),p=document.createElement("input");p.id=e,p.value=o,p.style="position: absolute; right: -10000px",document.getElementById(e)||document.body.appendChild(p),p.select(),document.execCommand("copy"),document.body.removeChild(p)},SGPBPopup.prototype.htmlDecode=function(t){return jQuery("<textarea/>").html(t).text()},SGPBPopup.prototype.findTargetInsideExceptionsList=function(t,e){for(var o=!1,p=document.getElementById("sgpb-popup-dialog-main-div");t.parentNode;)if(void 0!==(t=t.parentNode).tagName){var n=t.tagName.toLowerCase();if(t===p)break;if(-1!=e.indexOf(n)){o=!0;break}}return o},SGPBPopup.prototype.contentCloseBehavior=function(){var t=this,e=this.getPopupData(),o=this.getPopupId(),p=e["sgpb-click-redirect-to-url"],n=e["sgpb-content-click-behavior"],i=SGPBPopup.varToBool(e["sgpb-redirect-to-new-tab"]),a=SGPBPopup.varToBool(e["sgpb-copy-to-clipboard-close-popup"]),s=SGPBPopup.varToBool(e["sgpb-copy-to-clipboard-alert"]),r=["&amp;","/&/g"];for(var u in r)p=p.split(r[u]).join("&");sgAddEvent(window,"sgpbDidOpen",(function(t){})),sgAddEvent(window,"sgpbWillOpen",(function(r){if(o!=r.detail.popupId||"undefined"==r.detail.popupData["sgpb-content-click"])return!1;"redirect"==n&&jQuery(".sgpb-content-"+o).addClass("sgpb-cursor-pointer"),jQuery(".sgpb-content-"+r.detail.popupId).on("click",(function(r){var u={popupId:o,eventName:"sgpbPopupContentClick"};if(jQuery(window).trigger("sgpbPopupContentClick",u),"redirect"==n){if(i)return window.open(p),void SGPBPopup.closePopupById(t.getPopupId());window.location=p,SGPBPopup.closePopupById(t.getPopupId())}else if("copy"==n){var l=["input","textarea","select","button","a"],c=r.target.tagName.toLowerCase(),g=(r.target.parentNode.tagName.toLowerCase(),t.findTargetInsideExceptionsList(r.target,l));-1!=l.indexOf(c)||g||(t.contentCopyToClick(),a&&SGPBPopup.closePopupById(t.getPopupId()),s&&alert(e["sgpb-copy-to-clipboard-message"]))}else"on"!=e["sgpb-disable-popup-closing"]&&SGPBPopup.closePopupById(t.getPopupId())}))})),sgAddEvent(window,"sgpbDidClose",(function(t){}))},SGPBPopup.prototype.addFixedPosition=function(){var t=this.getPopupData(),e=(this.getPopupId(),this.getPopupConfig()),o=t["sgpb-popup-fixed-position"],p="",n="",i="",a="";1==o?(n=40,a=20):2==o?(a="center",n=40):3==o?(n=40,p=20):4==o?(n="center",a=20):6==o?(n="center",p=20):7==o?(a=20,i=2):8==o?(a="center",i=2):9==o&&(p=20,i=2),"undefined"!=typeof SgpbRecentSalesPopupType&&t["sgpb-type"]==SgpbRecentSalesPopupType&&(""!=n?n=parseInt(n+10):""!=i&&(i=parseInt(i+10))),e.magicCall("setPositionTop",n),e.magicCall("setPositionRight",p),e.magicCall("setPositionBottom",i),e.magicCall("setPositionLeft",a)},SGPBPopup.prototype.setPopupDimensions=function(){var t=this.getPopupData(),e=this.getPopupConfig(),o=this.getPopupId(),p=t["sgpb-popup-dimension-mode"],n=t["sgpb-max-width"],i=t["sgpb-max-height"],a=t["sgpb-min-width"],s=t["sgpb-min-height"],r=t["sgpb-content-padding"],u=t["sgpb-type"];if(e.magicCall("setMaxWidth",n),e.magicCall("setMaxHeight",i),e.magicCall("setMinWidth",a),e.magicCall("setMinHeight",s),"image"==u&&(e.magicCall("setContentBackgroundImage",t["sgpb-image-url"]),e.magicCall("setContentBackgroundMode","contain"),"customMode"==p&&e.magicCall("setContentBackgroundPosition","center center")),"responsiveMode"==p){var l=t["sgpb-responsive-dimension-measure"];"image"==u&&"fullScreen"!=l&&(e.magicCall("setContentBackgroundMode","fit"),this.setMaxWidthForResponsiveImage());e=this.getPopupConfig();if("auto"!=l)e.magicCall("setWidth",l+"%"),e.magicCall("setContentBackgroundPosition","center");else{var c=jQuery(".sgpb-popup-builder-content-"+o).width()+2*r;isNaN(c)?c="auto":(e.magicCall("setContentBackgroundPosition","center center"),c+="px"),e.magicCall("setWidth",c),"fullScreen"==l&&e.magicCall("setHeight",c)}return e}var g=t["sgpb-width"],d=t["sgpb-height"];return e.magicCall("setWidth",g),e.magicCall("setHeight",d),e},SGPBPopup.prototype.setMaxWidthForResponsiveImage=function(){var t=this.getPopupData(),e=this.getPopupConfig(),o=t["sgpb-responsive-dimension-measure"];if("auto"!=o){var p=t["sgpb-max-width"];if(""==p)return e.magicCall("setMaxWidth",o+"%"),!0;if(e.magicCall("setMaxWidth",o+"%"),"-1"!=p.indexOf("%"))parseInt(p)<o&&e.magicCall("setMaxWidth",p);else p<o*window.innerWidth/100&&e.magicCall("setMaxWidth",p)}},SGPBPopup.JSONParse=function(t){return JSON.parse(atob(t,!0))},SGPBPopup.b64DecodeUnicode=function(t){var e={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decode:function(t){var o,p,n,i,a,s,r="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)o=this._keyStr.indexOf(t.charAt(u++))<<2|(i=this._keyStr.indexOf(t.charAt(u++)))>>4,p=(15&i)<<4|(a=this._keyStr.indexOf(t.charAt(u++)))>>2,n=(3&a)<<6|(s=this._keyStr.indexOf(t.charAt(u++))),r+=String.fromCharCode(o),64!=a&&(r+=String.fromCharCode(p)),64!=s&&(r+=String.fromCharCode(n));return r=e._utf8_decode(r)},_utf8_decode:function(t){for(var e="",o=0,p=c1=c2=0;o<t.length;)(p=t.charCodeAt(o))<128?(e+=String.fromCharCode(p),o++):p>191&&p<224?(c2=t.charCodeAt(o+1),e+=String.fromCharCode((31&p)<<6|63&c2),o+=2):(c2=t.charCodeAt(o+1),c3=t.charCodeAt(o+2),e+=String.fromCharCode((15&p)<<12|(63&c2)<<6|63&c3),o+=3);return e}};return e.decode(t)},SGPBPopup.unserialize_old=function(t){t=SGPBPopup.b64DecodeUnicode(t);var e="undefined"!=typeof window?window:global,o=function(t){for(var e=t.length,o=t.length-1;o>=0;o--){var p=t.charCodeAt(o);p>127&&p<=2047?e++:p>2047&&p<=65535&&(e+=2),p>=56320&&p<=57343&&o--}return e-1},p=function(t,o,p,n){throw new e[t](o,p,n)},n=function(t,e,o){for(var n=2,i=[],a=t.slice(e,e+1);a!==o;)n+e>t.length&&p("Error","Invalid"),i.push(a),a=t.slice(e+(n-1),e+n),n+=1;return[i.length,i.join("")]};return function t(e,i){var a,s,r,u,l,c,g,d,P,b,f,v,m,h,C,B,S,y,w=0,O=function(t){return t};switch(i||(i=0),s=i+2,a=e.slice(i,i+1).toLowerCase()){case"i":O=function(t){return parseInt(t,10)},w=(P=n(e,s,";"))[0],d=P[1],s+=w+1;break;case"b":O=function(t){return 0!==parseInt(t,10)},w=(P=n(e,s,";"))[0],d=P[1],s+=w+1;break;case"d":O=function(t){return parseFloat(t)},w=(P=n(e,s,";"))[0],d=P[1],s+=w+1;break;case"n":d=null;break;case"s":w=(b=n(e,s,":"))[0],f=b[1],w=(P=function(t,e,p){var n,i,a;for(a=[],n=0;n<p;n++)i=t.slice(e+(n-1),e+n),a.push(i),p-=o(i);return[a.length,a.join("")]}(e,(s+=w+2)+1,parseInt(f,10)))[0],d=P[1],s+=w+2,w!==parseInt(f,10)&&w!==d.length&&p("SyntaxError","String length mismatch");break;case"a":for(d={},w=(r=n(e,s,":"))[0],u=r[1],s+=w+2,c=parseInt(u,10),l=!0,v=0;v<c;v++)C=(h=t(e,s))[1],m=h[2],S=(B=t(e,s+=C))[1],y=B[2],s+=S,m!==v&&(l=!1),d[m]=y;if(l){for(g=new Array(c),v=0;v<c;v++)g[v]=d[v];d=g}s+=1;break;default:p("SyntaxError","Unknown / Unhandled data type(s): "+a)}return[a,s-i,O(d)]}(t+"",0)[2]},SGPBPopup.closePopup=function(){window.sgPopupBuilder;var t=this.getLastPopup();if(void 0===t)return!1;var e=t.popupId;SGPBPopup.closePopupById(e)},SGPBPopup.closePopupById=function(t){var e=window.sgPopupBuilder;if(e.length)for(var o in e){if(e[o].popupId==t){var p=e[o].popup;p&&p.close(!0)}}},SGPBPopup.getPopupWindowDataById=function(t){var e=window.sgPopupBuilder,o=!1;if(void 0===e||!e.length)return o;for(var p in e){var n=e[p];if(n.popupId==t){o=n;break}}return o},SGPBPopup.findPopupObjById=function(t){var e=!1,o=SGPBPopup.getPopupWindowDataById(t);return o&&(e=o.popup),e},SGPBPopup.getLastPopup=function(){var t=window.sgPopupBuilder,e=!1;if(!t.length)return e;var o=[].concat(t);for(var p in o){var n=o[p];if(n.isOpen){e=n;break}}return e},SGPBPopup.offPopup=function(t){var e=window.sgPopupBuilder;if(!e.length)return!1;for(var o in e){var p=e[o];if(p.order==t.order&&p.eventName==t.eventName){e[o].isOpen=!1;break}}return!0},SGPBPopup.capitalizeFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},SGPBPopup.getParamFromUrl=function(t){var e=window.location.href;t=t.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},SGPBPopup.setCookie=function(t,e,o,p){if(SGPBPopup.getParamFromUrl("preview"))return!1;var n=new Date,i="",a=1;o&&!isNaN(o)||(o=o||0!==o?18250:"session"),Boolean(p)||(i="path=/;"),"session"==o?a=0:(n.setDate(parseInt(n.getDate()+parseInt(o))),a=n.toUTCString());var s="expires="+a;-1==o&&(s=""),a||(s=""),SGPBPopup.isIE()&&(i="");var r=e+(null==o?";":"; "+s+";"+i+"; SameSite=Lax");document.cookie=t+"="+r},SGPBPopup.isIE=function(){return ua=navigator.userAgent,ua.indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1},SGPBPopup.getCookie=function(t){for(var e=t+"=",o=document.cookie.split(";"),p=0;p<o.length;p++){for(var n=o[p];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""},SGPBPopup.deleteCookie=function(t,e){e||(e="path=/;"),document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"+e},SgpbEventListener.inactivityIdicator=0,SgpbEventListener.prototype.setEvents=function(t){this.evenets=t},SgpbEventListener.prototype.getEvents=function(){return this.evenets},SgpbEventListener.prototype.setPopupObj=function(t){this.popupObj=t},SgpbEventListener.prototype.getPopupObj=function(){return this.popupObj},SgpbEventListener.eventsListenerAfterDocumentReady=function(){window.SGPB_SOUND=[],sgAddEvent(window,"sgpbDidOpen",(function(t){SGPBPopup.playMusic(t)})),sgAddEvent(window,"sgpbDidClose",(function(t){var e=t.detail,o=parseInt(e.popupId);window.SGPB_SOUND[o],window.SGPB_SOUND[o]&&(window.SGPB_SOUND[o].pause(),delete window.SGPB_SOUND[o])}))},SgpbEventListener.init=function(){SgpbEventListener.eventsListenerAfterDocumentReady();var t=jQuery(".sg-popup-builder-content");if(!t)return"";var e=this;t.each((function(){var t=e.popupObjCreator(jQuery(this));SGPBPopup.floatingButton(t)}))},SgpbEventListener.popupObjCreator=function(t){var e=t.data("id"),o=t.data("options"),p=t.attr("data-events");p=jQuery.parseJSON(p),SgpbEventListener.reopenAfterFormSubmission(o);var n=new SGPBPopup;for(var i in n.setPopupId(e),n.setPopupData(o),p){var a=new this;a.setPopupObj(n),a.eventListener(p[i])}return n},SgpbEventListener.prototype.eventListener=function(eventData){if(null==eventData)return"";var event="";if("string"==typeof eventData?event=eventData:void 0!==eventData.param&&(event=eventData.param),!event)return!1;var popupObj=this.getPopupObj(),popupData=popupObj.getPopupData();""==eventData.value&&(eventData.value=popupData["sgpb-popup-delay"]);var eventName=SGPBPopup.capitalizeFirstLetter(event);eventName="sgpb"+eventName,popupObj.eventName=eventName;var allowToOpen=popupObj.forceCheckCurrentPopupType(popupObj);if(!allowToOpen)return!1;try{eval("this."+eventName)(this,eventData)}catch(t){console.log(t)}},SgpbEventListener.reopenAfterFormSubmission=function(t){var e=SGPBPopup.getCookie("SGPBSubmissionReloadPopup");if(!(e=parseInt(e)))return!1;var o=SGPBPopup.createPopupObjById(e);return!!o&&(!!o.getPopupData()["sgpb-reopen-after-form-submission"]&&(o.prepareOpen(),void SGPBPopup.deleteCookie("SGPBSubmissionReloadPopup")))},SgpbEventListener.prototype.sgpbLoad=function(t,e){var o=parseInt(e.value),p=t.getPopupObj(),n=p.getPopupData();o*=1e3;var i=null;p.forceCheckCurrentPopupType(p);sgAddEvent(window,"load",void setTimeout((function(){jQuery(window).trigger("sgpbLoadEvent",n),p.prepareOpen()}),o)),sgAddEvent(window,"sgpbDidOpen",(function(t){t.detail;clearInterval(i)})),sgAddEvent(window,"sgpbDidClose",(function(t){t.detail,p.getPopupData();if(SGPBPopup.varToBool(e.repetitive)){var o=1e3*parseInt(e.value);i=setInterval((function(){p.prepareOpen()}),o)}}))},SgpbEventListener.prototype.timerIncrement=function(t,e){0==SgpbEventListener.inactivityIdicator&&(clearInterval(e),t.getPopupObj().prepareOpen()),SgpbEventListener.inactivityIdicator=0},SgpbEventListener.prototype.sgpbInsideclick=function(t,e){sgAddEvent(window,"sgpbDidOpen",(function(e){e.detail;var o=t.getPopupObj(),p=parseInt(o.id),n=jQuery(".sgpb-content .sgpb-popup-id-"+p);if(!n.length)return!1;n.each((function(){jQuery(this).unbind("click").bind("click",(function(){var t=jQuery(this).attr("dontCloseCurrentPopup");void 0!==t&&"on"==t||SGPBPopup.closePopup(),o.prepareOpen()}))}))}))},SgpbEventListener.prototype.sgpbClick=function(t,e){var o=[],p=t.getPopupObj(),n=p.getPopupData(),i=parseInt(p.id);o.push(i);var a=t.filterPopupId(i);for(var s in o.push(a),-1===jQuery.inArray(a,o)&&o.push(a),o){i=o[s];if(!o.hasOwnProperty(s))return!1;var r=jQuery('a[href*="#sg-popup-id-'+i+'"], .sg-popup-id-'+i+", .sgpb-popup-id-"+i);if(void 0!==e.operator&&"clickActionCustomClass"==e.operator&&(r=jQuery('a[href*="#sg-popup-id-'+i+'"], .sg-popup-id-'+i+", .sgpb-popup-id-"+i+", ."+e.value)),r.length){var u=1e3*parseInt(n["sgpb-popup-delay"]),l=1;r.each((function(){jQuery(this).attr("data-popup-id")||jQuery(this).attr("data-popup-id",i),jQuery(this).bind("click touchstart",(function(e){if(l>1)return!0;if(!p.forceCheckCurrentPopupType(p))return!0;++l,jQuery(window).trigger("sgpbClickEvent",n);var o=jQuery(this).data("popup-id");return setTimeout((function(){var e=SGPBPopup.createPopupObjById(o);if(!e){var p=t.filterPopupId(o);e=SGPBPopup.createPopupObjById(p)}e.customEvent="Click",e.prepareOpen(),l=1}),u),!1}))}))}}},SgpbEventListener.prototype.sgpbHover=function(t,e){var o=t.getPopupObj();if(!o)return!1;var p=[],n=o.getPopupData(),i=parseInt(o.id);p.push(i);var a=t.filterPopupId(i);for(var s in-1===jQuery.inArray(a,p)&&p.push(a),p){i=p[s];if(!p.hasOwnProperty(s))return!1;var r=jQuery(".sg-popup-hover-"+i+", .sgpb-popup-id-"+i+'[data-popup-event="hover"]');if(void 0!==e.operator&&"hoverActionCustomClass"==e.operator&&(r=jQuery(".sg-popup-hover-"+i+", .sgpb-popup-id-"+i+'[data-popup-event="hover"], .'+e.value)),!r)return!1;var u=1,l=1e3*parseInt(n["sgpb-popup-delay"]);r.each((function(){jQuery(this).attr("data-popup-id")||jQuery(this).attr("data-popup-id",i),jQuery(this).bind("mouseenter",(function(){if(u>1)return!1;++u;var e=jQuery(this).data("popup-id");jQuery(window).trigger("sgpbHoverEvent",n),setTimeout((function(){var o=SGPBPopup.createPopupObjById(e);if(!o){var p=t.filterPopupId(e);o=SGPBPopup.createPopupObjById(p)}o.customEvent="Hover",o.prepareOpen(),u=1}),l)}))}))}},SgpbEventListener.prototype.sgpbConfirm=function(t,e){var o=t.getPopupObj();if(!o)return!1;var p=[],n=o.getPopupData(),i=parseInt(o.id);p.push(i);var a=t.filterPopupId(i);for(var s in p.push(a),p){i=p[s];if(!p.hasOwnProperty(s))return!1;var r=jQuery(".sg-confirm-popup-"+i);if(!r)return!1;var u=1;r.bind("click",(function(t){if(u>1)return!1;if(++u,!o.forceCheckCurrentPopupType(o))return!0;jQuery(window).trigger("sgpbConfirmEvent",n);var e=jQuery(this).attr("target");void 0===e&&(e="self");var p=jQuery(this).attr("href"),a=1e3*parseInt(n["sgpb-popup-delay"]);return setTimeout((function(){void 0!==p&&(n["sgpb-confirm-"+i]={target:e,href:p},o.setPopupData(n)),o.prepareOpen(),u=1}),a),!1})),sgAddEvent(window,"sgpbDidClose",(function(t){var e=t.detail,p=parseInt(e.popupId),n=e.popupData;if(void 0!==n["sgpb-confirm-"+p]){var i=n["sgpb-confirm-"+p];"_blank"==i.target?window.open(i.href):window.location.href=i.href,delete n["sgpb-confirm-"+p],o.setPopupData(n)}}))}},SgpbEventListener.prototype.sgpbAttronload=function(t,e){var o=t.getPopupObj(),p=parseInt(o.id);p=t.filterPopupId(p);var n=o.getPopupData(),i=1e3*parseInt(n["sgpb-popup-delay"]);jQuery(window).trigger("sgpbAttronloadEvent",n),setTimeout((function(){o.prepareOpen()}),i)},SgpbEventListener.prototype.filterPopupId=function(t){var e=SGPB_POPUP_PARAMS.convertedIdsReverse,o=t;if(e[t])return e[t];for(var p in e)if(t==e[p]){o=parseInt(p);break}return o},SgpbEventListener.findCF7InPopup=function(t){return document.querySelector("#sg-popup-content-wrapper-"+t+" .wpcf7")},SgpbEventListener.CF7EventListener=function(t,e){var o=SgpbEventListener.findCF7InPopup(t);o&&o.addEventListener("wpcf7mailsent",(function(e){var o={popupId:t,eventName:"sgpbCF7Success"};jQuery(window).trigger("sgpbCF7Success",o)}))},SgpbEventListener.processCF7MailSent=function(t,e){var o=SgpbEventListener.findCF7InPopup(t);o&&o.addEventListener("wpcf7mailsent",(function(o){if(void 0!==e.operator)if("close-popup"==e.operator)setTimeout((function(){SGPBPopup.closePopupById(t)}),1e3*parseInt(e.value));else if("redirect-url"==e.operator)window.location.href=e.value;else if("open-popup"==e.operator){SGPBPopup.closePopupById(t),SGPBPopup.createPopupObjById(Object.keys(e.value)[0]).prepareOpen()}}),!1)},jQuery(document).ready((function(t){setTimeout((function(){SgpbEventListener.init(),SGPBPopup.listeners()}),1)}));
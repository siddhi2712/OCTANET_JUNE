!function(t){var e={init:function(e){return this.each((function(){var i={id:"",type:"scroll",scroll_direction:"left",scroll_speed:10,scroll_pause:0,scroll_spacing:40,scroll_units:10,scroll_init:0,scroll_init_delay:2,scroll_loop:1,rotate_type:"fade",auto_rotate:0,rotate_delay:10,rotate_pause:0,rotate_speed:10,rotate_ease:"easeOutExpo",nav_reverse:0,disable_touchswipe:0,offset:20,before_change:function(){},after_change:function(){},after_load:function(){}},n={id:i.id,tick_count:0,previous_tick:0,current_tick:0,next_tick:0,reverse:0,running:0,paused:0};e&&t.extend(i,e);var r,s,a,o=t(this),c=o.find(".mtphr-dnt-tick-contents"),p=o.find(".mtphr-dnt-nav-prev"),l=o.find(".mtphr-dnt-nav-next"),_=o.find(".mtphr-dnt-control-links"),u=o.find(".mtphr-dnt-play-pause"),f=c.outerWidth(!0),d=0,h=[],g=!0,v=i.rotate_type,m=!0,k=.13;function y(){n.tick_count=c.find(".mtphr-dnt-tick").length,n.tick_count>0&&("scroll"===i.type?function(){var e=c.find(".mtphr-dnt-tick:first");if(e.attr("style")){var r=e.attr("style").split("width:");g=!(r.length>1)}h=[],c.find("img").length?c.imagesLoaded((function(){w(),c.find(".mtphr-dnt-tick").each((function(){t(this).show();var e=[{headline:t(this)}];h.push(e)})),E(),I()})):(w(),c.find(".mtphr-dnt-tick").each((function(){t(this).show();var e=[{headline:t(this)}];h.push(e)})),E(),I()),c.on({mouseenter:function(){i.scroll_pause&&b()},mouseleave:function(){i.scroll_pause&&!n.paused&&x()}}),c.find("a").on("click",(function(){i.scroll_pause&&!n.paused&&x()}))}():"rotate"===i.type&&function(){switch(c.find(".mtphr-dnt-tick").each((function(){h.push(t(this)),t(this).imagesLoaded((function(){M()}))})),M(),c.find(".mtphr-dnt-tick").show(),i.rotate_type){case"fade":!function(t,e){var i=e[0],n=i.height();t.css("height",n+"px"),i.css({opacity:1,left:"auto"})}(c,h,parseInt(100*i.rotate_speed),i.rotate_ease);break;case"slide_left":!function(t,e){var i=e[0],n=i.height();t.css("height",n+"px"),i.css({opacity:1,left:0})}(c,h,parseInt(100*i.rotate_speed),i.rotate_ease);break;case"slide_right":!function(t,e){var i=e[0],n=i.height();t.css("height",n+"px"),i.css({opacity:1,left:0})}(c,h,parseInt(100*i.rotate_speed),i.rotate_ease);break;case"slide_down":!function(t,e){var i=e[0],n=i.height();t.css("height",n+"px"),i.css({opacity:1,top:0,left:"auto"})}(c,h,parseInt(100*i.rotate_speed),i.rotate_ease);break;case"slide_up":!function(t,e){var i=e[0],n=i.height();t.css({height:n+"px",left:"auto"}),i.css({opacity:1,top:0})}(c,h,parseInt(100*i.rotate_speed),i.rotate_ease)}O(0),i.auto_rotate&&L(),c.on({mouseenter:function(){i.auto_rotate&&i.rotate_pause&&!n.running&&q()},mouseleave:function(){i.auto_rotate&&i.rotate_pause&&!n.running&&!n.paused&&L()}}),c.find("a").on("click",(function(){i.auto_rotate&&i.rotate_pause&&!n.running&&!n.paused&&L()}))}()),i.after_load.call(o,c),o.trigger("mtphr_dnt_after_load_single",[n,h]),t("body").trigger("mtphr_dnt_after_load",[o,n,h])}function w(){c.find(".mtphr-dnt-tick").each((function(){t(this).height()>d&&(d=t(this).height()),"up"!==i.scroll_direction&&"down"!==i.scroll_direction||t(this).css("height","auto")})),c.css("height",d+"px")}function b(){clearTimeout(a),cancelAnimationFrame(r)}function x(){I()}function I(){clearTimeout(a),cancelAnimationFrame(r),r=requestAnimationFrame((function t(){for(var e=0;e<n.tick_count;e++)if(!0===h[e][0].visible){var s="reset";"left"===i.scroll_direction||"right"===i.scroll_direction?("reset"===(s="left"===i.scroll_direction?F(e):T(e))?(s=h[e][0].reset,h[e][0].headline.css("opacity",0)):h[e][0].headline.css("opacity",1),h[e][0].headline.css({transform:"translateX( "+s+"px )"})):("reset"===(s="up"===i.scroll_direction?A(e):X(e))?(s=h[e][0].reset,h[e][0].headline.css("opacity",0)):h[e][0].headline.css("opacity",1),h[e][0].headline.css({transform:"translateY( "+s+"px )"})),h[e][0].position=s}i.scroll_init&&m?(m=!1,a=setTimeout((function(){r=requestAnimationFrame(t)}),1e3*i.scroll_init_delay)):(m=!1,r=requestAnimationFrame(t))}))}function F(t){var e=parseFloat(h[t][0].position-i.scroll_speed*k);return e<-(h[t][0].headline.width()+i.offset)?e=Y(t):e<parseFloat(f-h[t][0].headline.width()-i.scroll_spacing)&&C(t),e}function T(t){var e=parseFloat(h[t][0].position+i.scroll_speed*k);return e>f+i.offset?e=Y(t):e>i.scroll_spacing&&C(t),e}function A(t){var e=parseFloat(h[t][0].position-i.scroll_speed*k);return e<-(h[t][0].headline.height()+i.offset)?e=Y(t):e<d-h[t][0].headline.height()-i.scroll_spacing&&C(t),e}function X(t){var e=parseFloat(h[t][0].position+i.scroll_speed*k);return e>d+i.offset?e=Y(t):e>i.scroll_spacing&&C(t),e}function Y(e){return n.tick_count>1&&(h[e][0].visible=!1),n.tick_count===e+1&&(o.trigger("mtphr_dnt_scroll_complete",[n,h]),t("body").trigger("mtphr_dnt_scroll_complete",[o,n,h])),"reset"}function W(t){!1===h[t][0].visible&&(n.previous_tick=parseInt(t-1),n.previous_tick<0&&(n.previous_tick=parseInt(n.tick_count-1)),n.current_tick=t,n.next_tick=parseInt(t+1),n.next_tick>=n.tick_count&&(n.next_tick=0))}function C(t){t===n.tick_count-1?i.scroll_loop&&(W(0),h[0][0].visible=!0):(W(parseInt(t+1)),h[t+1][0].visible=!0)}function D(){for(var t=0;t<n.tick_count;t++){var e,r=h[t][0].headline;switch(i.scroll_direction){case"left":e=f+i.offset,!1===h[t][0].visible&&r.css("transform","translateX( "+e+"px )");break;case"right":e=parseInt("-"+(r.width()+i.offset)),!1===h[t][0].visible&&r.css("transform","translateX( "+e+"px )");break;case"up":g&&r.css("width",f),e=parseInt(d+i.offset),!1===h[t][0].visible&&r.css("transform","translateY( "+e+"px )");break;case"down":g&&r.css("width",f),e=parseInt("-"+(r.height()+i.offset)),!1===h[t][0].visible&&r.css("transform","translateY( "+e+"px )")}h[t][0].width=r.width(),h[t][0].height=r.height(),!1===h[t][0].visible&&(h[t][0].position=e),h[t][0].reset=e}}function E(){for(var t,e,r=0;r<n.tick_count;r++)if(h[r]){switch(e=h[r][0].headline,i.scroll_direction){case"left":t=f+i.offset,e.css("transform","translateX( "+t+"px )");break;case"right":t=parseInt("-"+(e.width()+i.offset)),e.css("transform","translateX( "+t+"px )");break;case"up":g&&e.css("width",f),t=parseInt(d+i.offset),e.css("transform","translateY( "+t+"px )");break;case"down":g&&e.css("width",f),t=parseInt("-"+(e.height()+i.offset)),e.css("transform","translateY( "+t+"px )")}h[r][0].width=e.width(),h[r][0].height=e.height(),h[r][0].position=t,h[r][0].reset=t,h[r][0].visible=!1,e=h[r][0].headline}if(n.current_tick=0,h[n.current_tick][0].visible=!0,i.scroll_init)for("left"===i.scroll_direction?t=0:"right"===i.scroll_direction?t=f:"up"===i.scroll_direction?t=0:"down"===i.scroll_direction&&(t=d),r=0;r<n.tick_count;r++)switch(e=h[r][0].headline,i.scroll_direction){case"left":t<f&&(e.css("transform","translateX( "+t+"px )"),h[r][0].position=t,h[r][0].visible=!0,t=t+h[r][0].width+i.scroll_spacing);break;case"right":t>0&&(t-=h[r][0].width,e.css("transform","translateX( "+t+"px )"),h[r][0].position=t,h[r][0].visible=!0,t-=i.scroll_spacing);break;case"up":t<d&&(e.css("transform","translateY( "+t+"px )"),h[r][0].position=t,h[r][0].visible=!0,t=t+h[r][0].height+i.scroll_spacing);break;case"down":t>0&&(e.css("transform","translateY( "+t+"px )"),e.stop(!0,!0).css("top",t+"px"),h[r][0].position=t,h[r][0].visible=!0,t-=i.scroll_spacing)}}function L(){z()}function q(){clearInterval(s)}function z(){q(),s=setInterval((function(){var t=parseInt(n.current_tick+1);t===n.tick_count&&(t=0),j(t)}),parseInt(1e3*i.rotate_delay))}function j(e){n.current_tick!==e&&(i.auto_rotate&&q(),n.next_tick=e,i.before_change.call(o,c),o.trigger("mtphr_dnt_before_change_single",[n,h]),t("body").trigger("mtphr_dnt_before_change",[o,n,h]),n.running=1,function(e){switch(v){case"fade":!function(e,n,r,s,a){n.stop().animate({opacity:0},s,a,(function(){t(this).css({left:parseFloat(f+i.offset)+"px"}),n.remove(),e.append(n)}))}(c,t(h[n.current_tick]),t(h[e]),parseInt(100*i.rotate_speed),i.rotate_ease);break;case"slide_left":!function(t,e,n,r,s){e.stop().animate({left:"-"+parseFloat(f+i.offset)+"px"},r,s,(function(){e.css({opacity:0}),e.remove(),t.append(e)}))}(c,t(h[n.current_tick]),t(h[e]),parseInt(100*i.rotate_speed),i.rotate_ease);break;case"slide_right":!function(t,e,n,r,s){e.stop().animate({left:parseFloat(f+i.offset)+"px"},r,s,(function(){e.css({opacity:0}),e.remove(),t.append(e)}))}(c,t(h[n.current_tick]),t(h[e]),parseInt(100*i.rotate_speed),i.rotate_ease);break;case"slide_down":!function(t,e,n,r,s){var a=n.height();e.stop().animate({top:parseFloat(a+i.offset)+"px"},r,s,(function(){e.css({opacity:0}),e.remove(),t.append(e)}))}(c,t(h[n.current_tick]),t(h[e]),parseInt(100*i.rotate_speed),i.rotate_ease);break;case"slide_up":!function(t,e,n,r,s){var a=e.height();e.stop().animate({top:"-"+parseFloat(a+i.offset)+"px"},r,s,(function(){e.css({opacity:0}),e.remove(),t.append(e)}))}(c,t(h[n.current_tick]),t(h[e]),parseInt(100*i.rotate_speed),i.rotate_ease)}}(e),function(e){switch(O(e),v){case"fade":!function(t,e,i,n,r){e.css({opacity:0,left:"auto"}),e.stop().animate({opacity:1},n,r);var s=e.height();t.stop().animate({height:s+"px"},n,r)}(c,t(h[e]),t(h[n.current_tick]),parseInt(100*i.rotate_speed),i.rotate_ease);break;case"slide_left":!function(t,e,n,r,s){var a=e.height();e.css({opacity:1,left:parseFloat(f+i.offset)+"px"}),t.stop().animate({height:a+"px"},r,s,(function(){})),e.stop().animate({left:"0"},r,s,(function(){}))}(c,t(h[e]),t(h[n.current_tick]),parseInt(100*i.rotate_speed),i.rotate_ease);break;case"slide_right":!function(t,e,n,r,s){var a=e.height();e.css({opacity:1,left:"-"+parseFloat(f+i.offset)+"px"}),t.stop().animate({height:a+"px"},r,s,(function(){})),e.stop().animate({left:"0"},r,s)}(c,t(h[e]),t(h[n.current_tick]),parseInt(100*i.rotate_speed),i.rotate_ease);break;case"slide_down":!function(t,e,n,r,s){var a=e.height();e.css({opacity:1,top:"-"+parseFloat(a+i.offset)+"px",left:"auto"}),t.stop().animate({height:a+"px"},r,s),e.stop().animate({top:"0"},r,s)}(c,t(h[e]),t(h[n.current_tick]),parseInt(100*i.rotate_speed),i.rotate_ease);break;case"slide_up":!function(t,e,n,r,s){var a=e.height();e.css({opacity:1,top:parseFloat(n.height()+i.offset)+"px",left:"auto"}),t.stop().animate({height:a+"px"},r,s),e.stop().animate({top:"0"},r,s)}(c,t(h[e]),t(h[n.current_tick]),parseInt(100*i.rotate_speed),i.rotate_ease)}}(e),n.previous_tick=n.current_tick,n.current_tick=e,setTimeout((function(){i.after_change.call(o,c),o.trigger("mtphr_dnt_after_change_single",[n,h]),t("body").trigger("mtphr_dnt_after_change",[o,n,h]),v=i.rotate_type,n.reverse=0,n.running=0,i.auto_rotate&&!n.paused&&z()}),parseInt(100*i.rotate_speed)))}function O(t){_&&(_.children("a").removeClass("active"),_.children('a[href="'+t+'"]').addClass("active"))}function M(){for(var e=0;e<n.tick_count;e++)t(h[e]).width(f+"px"),n.current_tick!==e&&t(h[e]).css({left:parseFloat(f+i.offset)+"px"});var r=t(h[n.current_tick]).height();c.stop().css("height",r+"px")}function Q(){if(n.running)return!1;var t=parseInt(n.current_tick+1);t===n.tick_count&&(t=0),j(t)}function B(){if(n.running)return!1;var t=parseInt(n.current_tick-1);t<0&&(t=n.tick_count-1),i.nav_reverse&&("slide_left"===i.rotate_type?v="slide_right":"slide_right"===i.rotate_type?v="slide_left":"slide_down"===i.rotate_type?v="slide_up":"slide_up"===i.rotate_type&&(v="slide_down"),n.reverse=1),j(t)}function G(t){t?(n.paused=!1,u.removeClass("paused"),"scroll"===i.type?x():L()):(n.paused=!0,u.addClass("paused"),"scroll"===i.type?b():q()),o.trigger("mtphr_dnt_play_pause",[n,h])}if(c.data("ditty:vars",n),p&&"rotate"===i.type&&(p.on("click",(function(t){t.preventDefault(),B()})),l.on("click",(function(t){t.preventDefault(),Q()}))),_&&"rotate"===i.type&&_.children("a").on("click",(function(e){e.preventDefault();var r=parseInt(t(this).attr("href"));if(n.running)return!1;if(r===n.current_tick)return!1;var s=r<n.current_tick?1:0;i.nav_reverse&&s&&("slide_left"===i.rotate_type?v="slide_right":"slide_right"===i.rotate_type?v="slide_left":"slide_down"===i.rotate_type?v="slide_up":"slide_up"===i.rotate_type&&(v="slide_down"),n.reverse=1),j(r)})),u.on("click",(function(t){t.preventDefault(),G(n.paused)})),"rotate"!==i.type||i.disable_touchswipe||(c[0].addEventListener("swiped-left",(function(){!function(){if(n.running)return!1;var t=parseInt(n.current_tick+1);t===n.tick_count&&(t=0),"slide_left"!==i.rotate_type&&"slide_right"!==i.rotate_type||(v="slide_left"),j(t)}()})),c[0].addEventListener("swiped-right",(function(){!function(){if(n.running)return!1;var t=parseInt(n.current_tick-1);t<0&&(t=n.tick_count-1),"slide_left"!==i.rotate_type&&"slide_right"!==i.rotate_type||(v="slide_right"),i.nav_reverse&&("slide_down"===i.rotate_type?v="slide_up":"slide_up"===i.rotate_type&&(v="slide_down"),n.reverse=1),j(t)}()}))),o.on("mtphr_dnt_next",(function(){Q()})),o.on("mtphr_dnt_prev",(function(){B()})),o.on("mtphr_dnt_goto",(function(t,e){j(parseInt(e))})),o.on("mtphr_dnt_pause",(function(){G()})),o.on("mtphr_dnt_play",(function(){G(!0)})),t(window).on("resize",(function(){c.outerWidth()!==f&&(f=c.outerWidth(!0),"scroll"===i.type?"up"!==i.scroll_direction&&"down"!==i.scroll_direction||!g?D():E():"rotate"===i.type&&M())})),o.on("mtphr_dnt_resize_single",(function(t,e){f=c.outerWidth(!0),"scroll"===i.type?(e&&E(),D()):"rotate"===i.type&&M()})),t("body").on("mtphr_dnt_resize",(function(t,e){e&&e.indexOf(i.id)>=0&&("scroll"===i.type?D():"rotate"===i.type&&M())})),o.on("mtphr_dnt_replace_ticks",(function(e,i,n){clearTimeout(a),cancelAnimationFrame(r),o.find(".mtphr-dnt-tick").remove(),i.each((function(){c.append(t(this))})),setTimeout((function(){y()}),n)})),0===o.width()){var H=!0;setTimeout((function t(){o.width()>10&&(H=!1,f=c.outerWidth(!0),y()),H&&setTimeout(t,100)}),100)}else y()}))}};t.fn.ditty_news_ticker=function(t){if(e[t])return e[t].apply(this,Array.prototype.slice.call(arguments,1));if("object"!=typeof t&&t)throw new Error("Method "+t+" does not exist in ditty_news_ticker");return e.init.apply(this,arguments)}}(jQuery);